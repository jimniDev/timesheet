<div fxLayout="row" fxLayoutAlign="center stretch" fxLayout.xs="column" fxLayoutGap="8px" class="container">
    <mat-card>
        <jhi-year-month-select [dates]="getDatesFromWorkingEntries()" (selectedDate)="filterTimeTable($event)"></jhi-year-month-select>
    </mat-card>
    <mat-card>
            <mat-card-subtitle>Export PDF</mat-card-subtitle>
            <mat-card-content><button type="button" mat-flat-button color="primary" (click)="createPDF()">Export PDF</button></mat-card-content>
        </mat-card>
    <mat-card>
        <mat-card-subtitle>Target Time</mat-card-subtitle>
        <mat-card-content>{{targetTime}}</mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-subtitle>Actual Time</mat-card-subtitle>
        <mat-card-content>{{actualTime}}</mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-subtitle>Difference</mat-card-subtitle>
        <mat-card-content>{{diffTime}}</mat-card-content>
    </mat-card>
</div>

<div fxLayout="row" fxLayoutAlign="center stretch" fxLayout.xs="column" fxLayoutGap="8px" class="container">
        <mat-card>
            <table mat-table [dataSource]="DSworkingEntries" matSort>      
                    <ng-container matColumnDef="Date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.workDay.date | date:'dd.MM.yy'}} </td>
                    </ng-container>
                
                    <ng-container matColumnDef="Total Worktime">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Total Worktime </th>
                    <td mat-cell *matCellDef="let element"> {{secondsToHHMM(element.workDay.totalWorkingMinutes * 60)}} </td>
                    </ng-container>
                
                    <ng-container matColumnDef="Break Time">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Break Time </th>
                    <td mat-cell *matCellDef="let element"> {{secondsToHHMM(element.workDay.totalBreakMinutes * 60)}} </td>
                    </ng-container>
                
                    <ng-container matColumnDef="start">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Start </th>
                    <td mat-cell *matCellDef="let element"> {{element.start | date:'HH:mm'}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="end">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> End </th>
                        <td mat-cell *matCellDef="let element"> {{element.end | date:'HH:mm'}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="Sum">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Difference </th>
                        <td mat-cell *matCellDef="let element"> {{sumDate(element.start, element.end)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="Activity">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Activity </th>
                        <td mat-cell *matCellDef>working</td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator  [pageSize] = "5"
                            [pageSizeOptions]="[5, 10, 20]"
                            showFirstLastButtons>
            </mat-paginator>
        </mat-card>
</div>



<!-- <div class = "container scroll scrollbar-primary">
    <table class="table table-hover table-responisve-sm force-overflow">
    <thead>
        <tr>
            <th>Date</th>
            <th>Total Worktime</th>
            <!ith>Break Time</th>
            <th>Start</th>
            <th>End</th>
            <th>Sum</th>
            <th>Activity</th>
            <th>Location</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    <tr *ngFor="let workingEntry of workingEntries; let i = index" >
        <td *ngIf="isDifferentWorkingEntryDateBefore(i)">{{workingEntry.workDay.date | date:'dd.MM.yy'}}</td>
        <td *ngIf="sDifferentWorkingEntryDateBefore(i)" class="border-0"></td>
        <td *ngIf="isDifferentWorkingEntryDateBefore(i)">{{secondsToHHMM(workingEntry.workDay.totalWorkingMinutes * 60)}}</td>
        <td *ngIf="!isDifferentWorkingEntryDateBefore(i)" class="border-0"></td>
        <td *ngIf="isDifferentWorkingEntryDateBefore(i)">{{secondsToHHMM(workingEntry.workDay.totalBreakMinutes * 60)}}</td>
        <td *ngIf="!isDifferentWorkingEntryDateBefore(i)" class="border-0"></td>  
        <td>{{workingEntry.start | date:'HH:mm'}}</td>
        <td>{{workingEntry.end | date: 'HH:mm'}}</td>
        <td>{{sumDate(workingEntry.start, workingEntry.end)}}</td>
        <td>working</td>
        <td>location</td>
        <td>
            <div class="btn-group">
                <button type="submit"
                        [routerLink]="['/working-entry-timesheet', workingEntry.id, 'edit']"
                        class="btn btn-primary btn-sm">
                    <fa-icon [icon]="'pencil-alt'"></fa-icon>
                    <span class="d-none d-md-inline" jhiTranslate="entity.action.edit">Edit</span>
                </button>
                <button type="submit"
                        [routerLink]="['/', 'working-entry-timesheet', { outlets: { popup: workingEntry.id + '/delete'} }]"
                        replaceUrl="true"
                        queryParamsHandling="merge"
                        class="btn btn-danger btn-sm">
                    <fa-icon [icon]="'times'"></fa-icon>
                    <span class="d-none d-md-inline" jhiTranslate="entity.action.delete">Delete</span>
                </button>
            </div>
        </td>
    </tr>
    </tbody>
    </table>
</div> -->