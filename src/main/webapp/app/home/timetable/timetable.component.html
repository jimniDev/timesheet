<!-- <jhi-year-month-select [dates]="getDatesFromWorkingEntries()" (selectedDate)="filterTimeTable($event)"></jhi-year-month-select> -->
<!-- <div class="row">
    <div class="col-4">
        Target: {{targetTime}}
    </div>
    <div class="col-4">
        Actual: {{actualTime}}
    </div>
    <div class="col-4">
        Difference: {{diffTime}}
    </div>
</div> -->

<mat-grid-list cols="3">
    <mat-grid-tile>
        <mat-card style="margin: 2vh">
            <mat-card-title>Target Time</mat-card-title>
            <mat-card-subtitle>{{targetTime}}</mat-card-subtitle>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card style="margin: 2vh">
            <mat-card-title>Actual Time</mat-card-title>
            <mat-card-subtitle>{{actualTime}}</mat-card-subtitle>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card style="margin: 2vh">
            <mat-card-title>Difference</mat-card-title>
            <mat-card-subtitle>{{diffTime}}</mat-card-subtitle>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>


<mat-card style="margin: 2vh; height: 30vh; overflow: auto;">
    <table mat-table [dataSource]="workingEntries" class="mat-elevation-z8">
            <!-- Date Column -->
            <ng-container matColumnDef="Date">
            <th mat-header-cell *matHeaderCellDef> Date </th>
            <td mat-cell *matCellDef="let element"> {{element.workDay.date | date:'dd.MM.yy'}} </td>
            </ng-container>
        
            <!-- Total Worktime Column -->
            <ng-container matColumnDef="Total Worktime">
            <th mat-header-cell *matHeaderCellDef> Total Worktime </th>
            <td mat-cell *matCellDef="let element"> {{secondsToHHMM(element.workDay.totalWorkingMinutes * 60)}} </td>
            </ng-container>
        
            <!-- BreakTime Column -->
            <ng-container matColumnDef="Break Time">
            <th mat-header-cell *matHeaderCellDef> Break Time </th>
            <td mat-cell *matCellDef="let element"> {{secondsToHHMM(element.workDay.totalBreakMinutes * 60)}} </td>
            </ng-container>
        
            <!-- Start Column -->
            <ng-container matColumnDef="start">
            <th mat-header-cell *matHeaderCellDef> start </th>
            <td mat-cell *matCellDef="let element"> {{element.start | date:'HH:mm'}} </td>
            </ng-container>

            <!-- End Column -->
            <ng-container matColumnDef="end">
                <th mat-header-cell *matHeaderCellDef> start </th>
                <td mat-cell *matCellDef="let element"> {{element.end | date:'HH:mm'}} </td>
            </ng-container>

            <!-- Sum Column -->
            <ng-container matColumnDef="Sum">
                <th mat-header-cell *matHeaderCellDef> start </th>
                <td mat-cell *matCellDef="let element"> {{sumDate(element.start, element.end)}} </td>
            </ng-container>


            <!-- Activity Column -->
            <ng-container matColumnDef="Activity">
                <th mat-header-cell *matHeaderCellDef> Activity </th>
                <td mat-cell *matCellDef>working</td>
            </ng-container>

            <!-- Location Column -->
            <ng-container matColumnDef="Location">
                <th mat-header-cell *matHeaderCellDef> Location </th>
                <td mat-cell *matCellDef>Location</td>
            </ng-container>    

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</mat-card>


<!-- <div class = "container scroll scrollbar-primary">
    <table class="table table-hover table-responisve-sm force-overflow">
    <thead>
        <tr>
            <th>Date</th>
            <th>Total Worktime</th>
            <!ith>Break Time</th>
            <th>Start</th>
            <th>End</th>
            <th>Sum</th>
            <th>Activity</th>
            <th>Location</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    <tr *ngFor="let workingEntry of workingEntries; let i = index" >
        <td *ngIf="isDifferentWorkingEntryDateBefore(i)">{{workingEntry.workDay.date | date:'dd.MM.yy'}}</td>
        <td *ngIf="sDifferentWorkingEntryDateBefore(i)" class="border-0"></td>
        <td *ngIf="isDifferentWorkingEntryDateBefore(i)">{{secondsToHHMM(workingEntry.workDay.totalWorkingMinutes * 60)}}</td>
        <td *ngIf="!isDifferentWorkingEntryDateBefore(i)" class="border-0"></td>
        <td *ngIf="isDifferentWorkingEntryDateBefore(i)">{{secondsToHHMM(workingEntry.workDay.totalBreakMinutes * 60)}}</td>
        <td *ngIf="!isDifferentWorkingEntryDateBefore(i)" class="border-0"></td>  
        <td>{{workingEntry.start | date:'HH:mm'}}</td>
        <td>{{workingEntry.end | date: 'HH:mm'}}</td>
        <td>{{sumDate(workingEntry.start, workingEntry.end)}}</td>
        <td>working</td>
        <td>location</td>
        <td>
            <div class="btn-group">
                <button type="submit"
                        [routerLink]="['/working-entry-timesheet', workingEntry.id, 'edit']"
                        class="btn btn-primary btn-sm">
                    <fa-icon [icon]="'pencil-alt'"></fa-icon>
                    <span class="d-none d-md-inline" jhiTranslate="entity.action.edit">Edit</span>
                </button>
                <button type="submit"
                        [routerLink]="['/', 'working-entry-timesheet', { outlets: { popup: workingEntry.id + '/delete'} }]"
                        replaceUrl="true"
                        queryParamsHandling="merge"
                        class="btn btn-danger btn-sm">
                    <fa-icon [icon]="'times'"></fa-icon>
                    <span class="d-none d-md-inline" jhiTranslate="entity.action.delete">Delete</span>
                </button>
            </div>
        </td>
    </tr>
    </tbody>
    </table>
</div> -->